#Include ./src/lib/Memory.rlx
#Include ./src/lib/String.rlx
#Include ./src/lib/Console.rlx

bits Example As i32 {
	[0:10] test,
	[20:25] test2,
	[0:31] test3
}

bits Example2 As i64 {
	[0:31] low_32,
	[32:63] high_32
}
bits Example3 As i64 {
	[0:47] a_pointer,
	[48:63] a_tag
}

define i32 Main() {
	Example E := 0
	
	E.test := 90
	E.test2 := 20
	E.test3 := 0
	
	IWrite(E)
	WriteCharacter(',')
	
	Example2 E2 := 0x4000000090009000
	
	IWriteHex(E2.low_32)
	WriteCharacter(',')
	IWriteHex(E2.high_32)
	
	Example3 E3 := 0
	i64 Test := 52893
	
	E3.a_pointer := &Test
	E3.a_tag := 30
	
	WriteCharacter(',')
	IWrite(E3.a_pointer = &Test)
	
	Test := 9000
	
	IWrite(*(E3.a_pointer As i64*) = Test)
	
	return E
}
